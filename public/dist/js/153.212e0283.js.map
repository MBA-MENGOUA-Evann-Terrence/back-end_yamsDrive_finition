{"version":3,"file":"js/153.212e0283.js","mappings":"2PACOA,MAAM,mB,GACJA,MAAM,O,GACJA,MAAM,U,kFAFfC,EAAAA,EAAAA,IAMM,MANNC,EAMM,EALJC,EAAAA,EAAAA,IAIM,MAJNC,EAIM,EAHJD,EAAAA,EAAAA,IAEM,MAFNE,EAEM,EADJC,EAAAA,EAAAA,IAAuBC,Q,kCCHxBP,MAAM,2B,GAEJA,MAAM,e,GAMNA,MAAM,iC,GACJA,MAAM,a,GACNA,MAAM,yB,GAwBFA,MAAM,a,GAEHA,MAAM,Q,GAIRA,MAAM,sB,GAMNA,MAAM,qC,mBAIgCA,MAAM,c,SACrCA,MAAM,c,uHAnD3BC,EAAAA,EAAAA,IA8DM,MA9DNC,EA8DM,EA5DJC,EAAAA,EAAAA,IAGM,MAHNC,EAGM,C,aAFJD,EAAAA,EAAAA,IAA6C,MAAzCH,MAAM,cAAa,qBAAiB,KACxCG,EAAAA,EAAAA,IAAkF,UAA1EK,GAAG,gBAAiBC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,aAAAD,EAAAC,eAAAF,IAAaX,MAAM,UAAS,iBAIjEG,EAAAA,EAAAA,IAqDM,MArDNE,EAqDM,EApDJF,EAAAA,EAAAA,IAmDM,MAnDNW,EAmDM,EAlDNX,EAAAA,EAAAA,IAUM,MAVNY,EAUM,E,SATJZ,EAAAA,EAAAA,IAKE,SAJAa,KAAK,O,qCACIJ,EAAAK,YAAWC,GACpBlB,MAAM,+BACNmB,YAAY,oC,iBAFHP,EAAAK,eAIyDL,EAAAK,c,WAApEhB,EAAAA,EAAAA,IAES,U,MAFDD,MAAM,2BAA4BS,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAQ,aAAAR,EAAAQ,eAAAT,K,cAC/CR,EAAAA,EAAAA,IAA4B,KAAzBH,MAAM,gBAAc,U,QAAK,aAC9B,Q,kBAEFM,EAAAA,EAAAA,IAsCgBe,EAAA,CArCdC,IAAI,YACHC,QAASX,EAAAW,QACTC,IAAKZ,EAAAa,YACL,aAAYb,EAAAc,UACbC,MAAM,SACLC,kBAAmBhB,EAAAiB,YACnBC,WAAWlB,EAAAmB,SACXC,kBAAmBpB,EAAAqB,aACnB,kBAAgB,EAChB,qBAAmB,G,CAETC,KAAGC,EAAAA,EAAAA,IAINC,GAJiB,EACvBjC,EAAAA,EAAAA,IAGM,MAHNkC,EAGM,EAFJ/B,EAAAA,EAAAA,IAA2CgC,EAAA,CAAhCC,SAAUH,EAAUI,KAAKN,K,sBACpC/B,EAAAA,EAAAA,IAAkD,OAAlDsC,GAAkDC,EAAAA,EAAAA,IAA5BN,EAAUI,KAAKN,KAAG,OAGjCS,cAAYR,EAAAA,EAAAA,IACwDC,GAD7C,EAChCjC,EAAAA,EAAAA,IAA6E,OAA7EyC,GAA6EF,EAAAA,EAAAA,IAAzC9B,EAAAiC,YAAYT,EAAUI,KAAKN,MAAG,KAEzDY,QAAMX,EAAAA,EAAAA,IACqCC,GAD1B,EAC1BjC,EAAAA,EAAAA,IAAoD,aAAAuC,EAAAA,EAAAA,IAA3C9B,EAAAmC,WAAWX,EAAUI,KAAKM,SAAM,KAEhCE,YAAUb,EAAAA,EAAAA,IAC+EC,GADpE,EAC9BjC,EAAAA,EAAAA,IAAkG,OAAlG8C,GAAkGP,EAAAA,EAAAA,IAA/C9B,EAAAsC,WAAWd,EAAUI,KAAKQ,aAAU,KAE9EG,SAAOhB,EAAAA,EAAAA,IAC2DC,GADhD,CACfA,EAAUI,KAAKW,U,WAA3BlD,EAAAA,EAAAA,IAA2E,OAAAmD,GAAAV,EAAAA,EAAAA,IAApCN,EAAUI,KAAKW,QAAQjB,KAAG,IAChDE,EAAUI,KAAKa,a,WAAhCpD,EAAAA,EAAAA,IAA8G,OAA9GqD,EAA+D,aAASZ,EAAAA,EAAAA,IAAGN,EAAUI,KAAKa,YAAU,M,WACpGpD,EAAAA,EAAAA,IAAoD,OAApDsD,EAAgC,oBAEvBC,cAAYrB,EAAAA,EAAAA,IAGdC,GAHyB,CACM,aAA1BA,EAAUI,KAAKiB,QAAyBrB,EAAUI,KAAKkB,O,WAAnEzD,EAAAA,EAAAA,IAEO,OAAA0D,GAAAjB,EAAAA,EAAAA,IADFN,EAAUI,KAAKkB,KAAKE,QAAS,KAAClB,EAAAA,EAAAA,IAAGN,EAAUI,KAAKkB,KAAKxB,KAAG,M,WAE7DjC,EAAAA,EAAAA,IAAwB,OAAA4D,EAAX,W,2KAkFvB,GAAeC,EAAAA,EAAAA,IAAgB,CAC3BC,KAAM,sBACNC,WAAY,CACRC,SAAQA,EAAAA,GAEZzB,IAAAA,GACI,MAAO,CACHd,UAAWA,EAAAA,EACXwC,WAAW,EACXC,gBAAiB,GACjBC,MAAO,EACPC,UAAW,GACXpD,YAAa,GACbqD,cAAe,KACfC,QAAS,CAAC,EACVhD,QAAS,CACL,CACIiD,IAAK,MACLC,MAAO,MACPC,UAAU,EACVC,UAAW,GACXC,YAAY,GAEhB,CACIJ,IAAK,eACLC,MAAO,OACPC,UAAU,EACVC,UAAW,GACXC,YAAY,GAEhB,CACIJ,IAAK,SACLC,MAAO,SACPC,UAAU,EACVC,UAAW,GACXC,YAAY,GAEhB,CACIJ,IAAK,UACLC,MAAO,UACPC,UAAU,EACVC,UAAW,GACXC,YAAY,GAEhB,CACIJ,IAAK,eACLC,MAAO,eACPC,UAAU,EACVC,UAAW,GACXC,YAAY,GAEhB,CACIJ,IAAK,aACLC,MAAO,OACPC,UAAU,EACVC,UAAW,GACXC,YAAY,IAI5B,EACAC,SAAU,CACNpD,WAAAA,GACI,MAAMqD,EAAO,wBACPC,EAAS,IAAIC,gBAGfC,KAAKhE,aACL8D,EAAOG,OAAO,IAAKD,KAAKhE,aAIxBgE,KAAKV,QAAQvD,MACb+D,EAAOG,OAAO,OAAQD,KAAKV,QAAQvD,MAEnCiE,KAAKV,QAAQY,QACbJ,EAAOG,OAAO,UAAWD,KAAKV,QAAQY,OAAOC,YAE7CH,KAAKV,QAAQpB,SACb4B,EAAOG,OAAO,aAAcD,KAAKV,QAAQpB,QAAQiC,YAGrD,MAAMC,EAAcN,EAAOK,WAC3B,OAAOC,EAAc,GAAGP,KAAQO,IAAgBP,CACpD,GAEJQ,MAAO,CACHrE,WAAAA,GAEIsE,aAAaN,KAAKX,eAClBW,KAAKX,cAAgBkB,WAAW,KAC5BP,KAAKQ,UAAU,KACPR,KAAKS,MAAMC,WAAaV,KAAKS,MAAMC,UAAUC,WAC7CX,KAAKS,MAAMC,UAAUC,eAG9B,IACP,GAEJC,OAAAA,GAEIC,OAAOC,iBAAiB,wBAAyBd,KAAKe,2BAGtD,IACI,MAAMC,EAAeC,aAAaC,QAAQ,iBACtCF,IACAhB,KAAKV,QAAU6B,KAAKC,MAAMJ,GAE1BhB,KAAKQ,UAAU,KACXR,KAAKqB,aAAarB,KAAKV,WAGnC,CAAE,MAAOgC,GACLC,QAAQD,MAAM,8CAA+CA,EACjE,CACJ,EACAE,aAAAA,GACIX,OAAOY,oBAAoB,wBAAyBzB,KAAKe,0BAC7D,EACAW,QAAS,CACL,0BAAMC,GACF3B,KAAKf,WAAY,EACjB,IACI,MAAO2C,EAAcC,SAAqBC,QAAQC,IAAI,CAClD/B,KAAKvD,UAAUuF,IAAI,+BACnBhC,KAAKvD,UAAUuF,IAAI,gCAGjBC,GAAiBL,EAAarE,KAAKA,MAAQqE,EAAarE,MAAM2E,IAAIC,IAC7D,IAAIA,EAAK3D,OAAQ,eAGtB4D,GAAgBP,EAAYtE,KAAKA,MAAQsE,EAAYtE,MAAM2E,IAAIC,IAC1D,IAAIA,EAAK3D,OAAQ,cAGtB6D,EAAU,IAAIJ,KAAkBG,GAGtCC,EAAQC,KAAK,CAACC,EAAGC,IAAM,IAAIC,KAAKD,EAAEzE,YAAY2E,UAAY,IAAID,KAAKF,EAAExE,YAAY2E,WAEjF1C,KAAKd,gBAAkBmD,CAC3B,CAAE,MAAOf,GACLC,QAAQD,MAAM,wDAAyDA,EAAMqB,SAC7E3C,KAAKd,gBAAkB,EAC3B,CAAE,QACEc,KAAKf,WAAY,CACrB,CACJ,EACA9C,WAAAA,GACImE,aAAaN,KAAKX,eAClBW,KAAKhE,YAAc,GAEnBgE,KAAKQ,UAAU,KACPR,KAAKS,MAAMC,WAAaV,KAAKS,MAAMC,UAAUC,WAC7CX,KAAKS,MAAMC,UAAUC,aAGjC,EACA/E,WAAAA,GAEIoE,KAAK2B,sBACT,EACA7E,QAAAA,CAAS8F,GACL,MAAMC,EAAYD,EAAK3F,IAAI6F,MAAM,KAAKC,MAAMC,cACtCC,EAAU,CAAC,MAAO,MAAO,OAAQ,MAAO,QAAQC,SAASL,GACzDM,EAAcF,EAAU,OAAS,OAEvCjD,KAAKoD,QAAQC,KAAKC,EAAAA,EAAc,CAC5BC,MAAO,CACHC,OAAQ,sBACRC,MAAO,CAAEC,MAAOP,GAChBQ,OAAO,EACPC,aAAa,EACbC,eAAe,GAEnBtG,KAAM,CACFuG,SAAUlB,EACVlG,MAAO,WAGnB,EAEAE,WAAAA,CAAYmH,GACR/D,KAAKb,MAAQ4E,CACjB,EAEAjG,UAAAA,CAAWkG,GACP,IAAKA,EAAO,MAAO,UACnB,GAAc,IAAVA,EAAa,MAAO,UACxB,MAAMC,EAAI,KACJC,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,MACpCC,EAAIC,KAAKC,MAAMD,KAAKE,IAAIN,GAASI,KAAKE,IAAIL,IAChD,OAAOM,YAAYP,EAAQI,KAAKI,IAAIP,EAAGE,IAAIM,QAAQ,IAAM,IAAMP,EAAMC,EACzE,EAEAvG,WAAAA,CAAYN,GACR,IAAKA,EAAU,MAAO,UACtB,MAAMuF,EAAYvF,EAASwF,MAAM,KAAKC,MAAMC,cACtC0B,EAAQ,CACV,IAAO,YACP,IAAO,YACP,KAAQ,aACR,IAAO,YACP,IAAO,eACP,IAAO,gBACP,KAAQ,gBACR,IAAO,gBACP,KAAQ,gBACR,IAAO,0BACP,KAAQ,0BACR,IAAO,cACP,IAAO,cACP,IAAO,iBAEX,OAAOA,EAAM7B,IAAc,WAAWA,EAAU8B,eACpD,EAEA1G,UAAAA,CAAW2G,GACP,IAAKA,EAAY,MAAO,gBACxB,MAAMC,EAAO,IAAIpC,KAAKmC,GACtB,OAAOC,EAAKC,mBAAmB,QAAS,CAAEC,IAAK,UAAWC,MAAO,OAAQC,KAAM,UAAWC,KAAM,UAAWC,OAAQ,WACvH,EAEAnI,YAAAA,CAAaoC,GACTY,KAAKZ,UAAYA,CACrB,EAEAiC,YAAAA,CAAa/B,GACTiC,QAAQ+C,IAAI,iDAAkDhF,GAG9DU,KAAKQ,UAAU,KACPR,KAAKS,MAAMC,WAAaV,KAAKS,MAAMC,UAAUC,WAC7CX,KAAKS,MAAMC,UAAUC,aAGjC,EAEAI,yBAAAA,CAA0BqE,GACtB,MAAM9F,EAAU8F,EAAMC,OACtB9D,QAAQ+C,IAAI,qDAAsDhF,GAClEU,KAAKV,QAAUA,EACfU,KAAKqB,aAAa/B,EACtB,EAEAgG,cAAAA,CAAexB,GACXvC,QAAQ+C,IAAI,qBAAsBR,GAGlC,MAAMyB,EAAe,CACjBC,YAAa1B,EAASvI,IAI1ByE,KAAKvD,UAAUgJ,KAAK,WAAYF,GAC/BG,KAAKC,IACFpE,QAAQ+C,IAAI,+BAAgCqB,EAASpI,MAGrDuG,EAAS8B,aAAc,EAGvB5F,KAAK6F,OAAOC,IAAI,CACZC,SAAU,UACVC,QAAS,SACTX,OAAQ,8BACRY,KAAM,QAGbC,MAAM5E,IACHC,QAAQD,MAAM,sCAAwCA,GACtDC,QAAQD,MAAM,uBAAyBA,EAAMqE,SAAWrE,EAAMqE,SAASpI,KAAO,kBAC9EgE,QAAQD,MAAM,eAAgBA,EAAMqE,SAAWrE,EAAMqE,SAASQ,OAAS,WAGvE,MAAMC,EAAe9E,EAAMqE,UAAYrE,EAAMqE,SAASpI,MAAQ+D,EAAMqE,SAASpI,KAAKoF,QAC5ErB,EAAMqE,SAASpI,KAAKoF,QACpB,+CAGN3C,KAAK6F,OAAOC,IAAI,CACZC,SAAU,QACVC,QAAS,SACTX,OAAQe,EACRH,KAAM,OAGlB,K,UCtaR,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QFKA,GAAexH,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,cACNC,WAAY,CACVuH,oBAAmBA,KGVvB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,+ECPA,MAAMtL,EAAa,CCDZF,MAAM,uBDEPI,EAAa,CACjBoE,IAAK,ECD0BxE,MAAM,kBDKjC,SAAUwL,EAAO5K,EAAUF,EAAY+K,EAAYC,EAAYC,EAAWC,GAC9E,OAAQC,EAAAA,EAAAA,OCRR5L,EAAAA,EAAAA,IAIM,MAJNC,EAIM,EAHJC,EAAAA,EAAAA,IAEM,OAFAH,OAAK8L,EAAAA,EAAAA,IAAA,aAAgBlL,EAAAmL,aDUxB,CCTWnL,EAAAoL,gBDWPH,EAAAA,EAAAA,OCXL5L,EAAAA,EAAAA,IAA4E,OAA5EG,GAA4EsC,EAAAA,EAAAA,IAAvB9B,EAAAoL,eAAa,KDY9DC,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,IAEP,CCPA,OAAenI,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,WACNyE,MAAO,CACLjG,SAAU,CACRvB,KAAMkL,OACNC,UAAU,GAEZC,SAAU,CACRpL,KAAMkL,OACNG,QAAS,KAGbC,KAAAA,CAAM9D,GACJ,MAAM+D,EAAoBhK,IACxB,MAAMiK,EAAQjK,EAASwF,MAAM,KAC7B,OAAIyE,EAAMC,OAAS,EACVD,EAAMA,EAAMC,OAAS,GAAGxE,cAE1B,IAGH+D,GAAgBnH,EAAAA,EAAAA,IAAS,KAC7B,MAAM7D,EAAOwH,EAAM4D,SAASnE,cAG5B,GAAIjH,EAAKmH,SAAS,QAAUnH,EAAKmH,SAAS,SACtCnH,EAAKmH,SAAS,UAAYnH,EAAKmH,SAAS,eACxCnH,EAAKmH,SAAS,SAChB,MAAO,GAIT,MAAMuE,EAAMH,EAAiB/D,EAAMjG,UACnC,OAAImK,GAAOA,EAAID,QAAU,EAChBC,EAEF,KAGHX,GAAYlH,EAAAA,EAAAA,IAAS,KACzB,MAAMtC,EAAWiG,EAAMjG,SAAS0F,cAC1BjH,EAAOwH,EAAM4D,SAASnE,cACtByE,EAAMH,EAAiBhK,GAG7B,OAAIvB,EAAKmH,SAAS,UAAY,CAAC,MAAO,OAAQ,MAAO,MAAO,QAAQA,SAASuE,GACpE,aACE1L,EAAKmH,SAAS,QAAkB,QAARuE,EAC1B,WACE1L,EAAKmH,SAAS,SAAW,CAAC,MAAO,QAAQA,SAASuE,GACpD,YACE1L,EAAKmH,SAAS,UAAY,CAAC,MAAO,OAAQ,OAAOA,SAASuE,GAC5D,aACE1L,EAAKmH,SAAS,eAAiB,CAAC,MAAO,QAAQA,SAASuE,GAC1D,kBACE1L,EAAKmH,SAAS,QAAU,CAAC,MAAO,MAAO,MAAMA,SAASuE,GACxD,WACE1L,EAAKmH,SAAS,WAAanH,EAAKmH,SAAS,aAC3C,cACEnH,EAAKmH,SAAS,SAAW,CAAC,MAAO,MAAMA,SAASuE,GAClD,YAEA,iBAIX,MAAO,CACLX,YACAC,gBAEJ,I,UC1EF,MAAMV,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASE,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/views/dashboard/recent/index.vue","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/views/dashboard/recent/RecentDocumentsView.vue","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/views/dashboard/recent/RecentDocumentsView.vue?eee5","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/views/dashboard/recent/index.vue?ed58","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/components/FileIcon.vue?e138","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/components/FileIcon.vue","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/components/FileIcon.vue?d8de"],"sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <RecentDocumentsView />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport RecentDocumentsView from './RecentDocumentsView.vue';\n\nexport default defineComponent({\n  name: 'RecentIndex',\n  components: {\n    RecentDocumentsView\n  }\n});\n</script>\n\n<style scoped>\n.container-fluid {\n  padding: 1rem;\n}\n</style>\n","<template>\n  <div class=\"document-view-container\">\n    <!-- Titre ind√©pendant -->\n    <div class=\"view-header\">\n      <h1 class=\"view-title\">Documents R√©cents</h1>\n      <button id=\"refreshrecent\" @click=\"refreshData\" class=\"d-none\">Rafra√Æchir</button>\n    </div>\n    \n    <!-- Card contenant uniquement le contenu -->\n    <div class=\"card document-management-card\">\n      <div class=\"card-body\">\n      <div class=\"custom-search-wrapper\">\n        <input \n          type=\"text\" \n          v-model=\"searchQuery\" \n          class=\"form-control form-control-sm\" \n          placeholder=\"Rechercher par nom de fichier...\"\n        />\n        <button class=\"btn btn-sm btn-secondary\" @click=\"clearSearch\" v-if=\"searchQuery\">\n          <i class=\"fas fa-times\"></i> Effacer\n        </button>\n      </div>\n      <AsdecodeTable \n        ref=\"datatable\"\n        :columns=\"columns\"\n        :url=\"computedUrl\" \n        :api-client=\"apiClient\"\n        table=\"recent\"\n        @set-total-records=\"updateLines\"\n        @row-click=\"showLine\" \n        @set-selected-rows=\"getSelection\"\n        :show-top-stats=\"false\"\n        :show-bottom-stats=\"false\"\n      >\n        <template #nom=\"slotProps\">\n          <div class=\"file-cell\">\n            <FileIcon :fileName=\"slotProps.data.nom\" />\n            <span class=\"ms-2\">{{ slotProps.data.nom }}</span>\n          </div>\n        </template>\n        <template #type_lisible=\"slotProps\">\n          <span class=\"badge bg-secondary\">{{ getFileType(slotProps.data.nom) }}</span>\n        </template>\n        <template #taille=\"slotProps\">\n          <span>{{ formatSize(slotProps.data.taille) }}</span>\n        </template>\n        <template #updated_at=\"slotProps\">\n          <span class=\"p-2 rounded badge badge-secondary\">{{ formatDate(slotProps.data.updated_at) }}</span>\n        </template>\n        <template #service=\"slotProps\">\n          <span v-if=\"slotProps.data.service\">{{ slotProps.data.service.nom }}</span>\n          <span v-else-if=\"slotProps.data.service_id\" class=\"text-muted\">Service #{{ slotProps.data.service_id }}</span>\n          <span v-else class=\"text-muted\">Aucun service</span>\n        </template>\n        <template #proprietaire=\"slotProps\">\n          <span v-if=\"slotProps.data.source === 'received' && slotProps.data.user\">\n            {{ slotProps.data.user.prenom }} {{ slotProps.data.user.nom }}\n          </span>\n          <span v-else>Vous</span>\n        </template>\n      </AsdecodeTable>\n      </div>\n    </div>\n  </div>\n</template>\n  \n<style scoped>\n.document-view-container {\n  padding: 0;\n}\n\n.view-header {\n  margin-bottom: 24px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.view-title {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #202124;\n  margin: 0;\n}\n\n.document-management-card {\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: none;\n}\n\n.card-body {\n  padding: 1.5rem;\n}\n\n.custom-search-wrapper {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  margin-bottom: 1rem;\n  justify-content: flex-end;\n}\n\n.custom-search-wrapper input {\n  width: 250px;\n}\n\n:deep(.dataTables_length), \n:deep(.dataTables_info) {\n  display: none !important;\n}\n\n/* Masquer la barre de recherche int√©gr√©e d'AsdecodeTable */\n:deep(.dataTables_filter),\n:deep(.asdecode-search),\n:deep(.search-wrapper),\n:deep([class*=\"search\"]:not(.custom-search-wrapper)) {\n  display: none !important;\n}\n\n/* Forcer le masquage de tous les inputs de recherche sauf le n√¥tre */\n:deep(.card-body input[type=\"search\"]),\n:deep(.card-body input[placeholder*=\"Search\"]),\n:deep(.card-body input[placeholder*=\"Rechercher\"]):not(.custom-search-wrapper input) {\n  display: none !important;\n}\n\n.file-cell {\n  display: flex;\n  align-items: center;\n}\n</style>\n\n<script>\nimport { defineComponent } from 'vue';\nimport ShowDocument from '../Document/ShowDocument.vue';\nimport FileIcon from '@/components/FileIcon.vue';\nimport apiClient from '@/services/api';\nimport axios from 'axios';\n\nexport default defineComponent({\n    name: 'RecentDocumentsView',\n    components: {\n        FileIcon\n    },\n    data() {\n        return {\n            apiClient: apiClient,\n            isLoading: false,\n            recentDocuments: [],\n            lines: 0,\n            selection: [],\n            searchQuery: '',\n            searchTimeout: null,\n            filters: {},\n            columns: [\n                {\n                    key: 'nom',\n                    label: 'Nom',\n                    sortable: true,\n                    className: '',\n                    filterable: true\n                },\n                {\n                    key: 'type_lisible', // On utilise un template personnalis√©\n                    label: 'Type',\n                    sortable: true,\n                    className: '',\n                    filterable: true\n                },\n                {\n                    key: 'taille',\n                    label: 'Taille',\n                    sortable: true,\n                    className: '',\n                    filterable: true\n                },\n                {\n                    key: 'service',\n                    label: 'Service',\n                    sortable: true,\n                    className: '',\n                    filterable: true\n                },\n                {\n                    key: 'proprietaire',\n                    label: 'Propri√©taire',\n                    sortable: true,\n                    className: '',\n                    filterable: true\n                },\n                {\n                    key: 'updated_at',\n                    label: 'Date',\n                    sortable: true,\n                    className: '',\n                    filterable: true\n                },\n            ]\n        }\n    },\n    computed: {\n        computedUrl() {\n            const base = '/api/documents/recent';\n            const params = new URLSearchParams();\n            \n            // Ajouter la recherche\n            if (this.searchQuery) {\n                params.append('q', this.searchQuery);\n            }\n            \n            // Ajouter les filtres\n            if (this.filters.type) {\n                params.append('type', this.filters.type);\n            }\n            if (this.filters.person) {\n                params.append('user_id', this.filters.person.toString());\n            }\n            if (this.filters.service) {\n                params.append('service_id', this.filters.service.toString());\n            }\n            \n            const queryString = params.toString();\n            return queryString ? `${base}?${queryString}` : base;\n        }\n    },\n    watch: {\n        searchQuery() {\n            // Debounce: attendre 500ms apr√®s la derni√®re frappe avant de rechercher\n            clearTimeout(this.searchTimeout);\n            this.searchTimeout = setTimeout(() => {\n                this.$nextTick(() => {\n                    if (this.$refs.datatable && this.$refs.datatable.fetchData) {\n                        this.$refs.datatable.fetchData();\n                    }\n                });\n            }, 500);\n        }\n    },\n    mounted() {\n        // √âcouter les changements de filtres globaux\n        window.addEventListener('global-filters-change', this.handleGlobalFiltersChange);\n        \n        // Restaurer les filtres sauvegard√©s\n        try {\n            const savedFilters = localStorage.getItem('globalFilters');\n            if (savedFilters) {\n                this.filters = JSON.parse(savedFilters);\n                // Appliquer imm√©diatement les filtres restaur√©s\n                this.$nextTick(() => {\n                    this.applyFilters(this.filters);\n                });\n            }\n        } catch (error) {\n            console.error('Erreur lors de la restauration des filtres:', error);\n        }\n    },\n    beforeUnmount() {\n        window.removeEventListener('global-filters-change', this.handleGlobalFiltersChange);\n    },\n    methods: {\n        async fetchRecentDocuments() {\n            this.isLoading = true;\n            try {\n                const [publishedRes, receivedRes] = await Promise.all([\n                    this.apiClient.get('/documents/recent/published'),\n                    this.apiClient.get('/documents/recent/received')\n                ]);\n\n                const publishedDocs = (publishedRes.data.data || publishedRes.data).map(doc => {\n                    return {...doc, source: 'published'};\n                });\n                \n                const receivedDocs = (receivedRes.data.data || receivedRes.data).map(doc => {\n                    return {...doc, source: 'received'};\n                });\n\n                const allDocs = [...publishedDocs, ...receivedDocs];\n\n                // Tri par date de modification (plus r√©cent en premier)\n                allDocs.sort((a, b) => new Date(b.updated_at).getTime() - new Date(a.updated_at).getTime());\n\n                this.recentDocuments = allDocs;\n            } catch (error) {\n                console.error(\"Erreur lors de la r√©cup√©ration des documents r√©cents:\", error.message);\n                this.recentDocuments = [];\n            } finally {\n                this.isLoading = false;\n            }\n        },\n        clearSearch() {\n            clearTimeout(this.searchTimeout);\n            this.searchQuery = '';\n            // Recharger imm√©diatement quand on efface\n            this.$nextTick(() => {\n                if (this.$refs.datatable && this.$refs.datatable.fetchData) {\n                    this.$refs.datatable.fetchData();\n                }\n            });\n        },\n        refreshData() {\n            // Permet de rafraichir les donn√©es depuis le bouton cach√©\n            this.fetchRecentDocuments();\n        },\n        showLine(line) {\n            const extension = line.nom.split('.').pop().toLowerCase();\n            const isImage = ['png', 'jpg', 'jpeg', 'gif', 'webp'].includes(extension);\n            const dialogWidth = isImage ? '70vw' : '50vw';\n\n            this.$dialog.open(ShowDocument, {\n                props: {\n                    header: 'D√©tails du document',\n                    style: { width: dialogWidth },\n                    modal: true,\n                    maximizable: true,\n                    closeOnEscape: true\n                },\n                data: {\n                    document: line,\n                    table: 'recent'\n                }\n            });\n        },\n\n        updateLines(nb) {\n            this.lines = nb;\n        },\n        \n        formatSize(bytes) {\n            if (!bytes) return '0 Bytes';\n            if (bytes === 0) return '0 Bytes';\n            const k = 1024;\n            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n            const i = Math.floor(Math.log(bytes) / Math.log(k));\n            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n        },\n        \n        getFileType(fileName) {\n            if (!fileName) return 'Inconnu';\n            const extension = fileName.split('.').pop().toLowerCase();\n            const types = {\n                'png': 'Image PNG',\n                'jpg': 'Image JPG',\n                'jpeg': 'Image JPEG',\n                'gif': 'Image GIF',\n                'pdf': 'Document PDF',\n                'doc': 'Document Word',\n                'docx': 'Document Word',\n                'xls': 'Fichier Excel',\n                'xlsx': 'Fichier Excel',\n                'ppt': 'Pr√©sentation PowerPoint',\n                'pptx': 'Pr√©sentation PowerPoint',\n                'zip': 'Archive ZIP',\n                'rar': 'Archive RAR',\n                'txt': 'Fichier Texte',\n            };\n            return types[extension] || `Fichier ${extension.toUpperCase()}`;\n        },\n        \n        formatDate(dateString) {\n            if (!dateString) return 'Date inconnue';\n            const date = new Date(dateString);\n            return date.toLocaleDateString('fr-FR', { day: '2-digit', month: 'long', year: 'numeric', hour: '2-digit', minute: '2-digit' });\n        },\n        \n        getSelection(selection) {\n            this.selection = selection;\n        },\n        \n        applyFilters(filters) {\n            console.log('üîç Filtres appliqu√©s dans RecentDocumentsView:', filters);\n            // Les filtres sont automatiquement appliqu√©s via computedUrl\n            // Rafra√Æchir le tableau\n            this.$nextTick(() => {\n                if (this.$refs.datatable && this.$refs.datatable.fetchData) {\n                    this.$refs.datatable.fetchData();\n                }\n            });\n        },\n        \n        handleGlobalFiltersChange(event) {\n            const filters = event.detail;\n            console.log('üåç Filtres globaux re√ßus dans RecentDocumentsView:', filters);\n            this.filters = filters;\n            this.applyFilters(filters);\n        },\n        \n        addToFavorites(document) {\n            console.log('Ajout aux favoris:', document);\n            \n            // Cr√©er un objet avec uniquement les donn√©es n√©cessaires pour √©viter les r√©f√©rences circulaires\n            const documentData = {\n                document_id: document.id\n            };\n            \n            // Appel √† l'API pour ajouter/retirer des favoris\n            this.apiClient.post('/favoris', documentData)\n            .then(response => {\n                console.log('Document ajout√© aux favoris:', response.data);\n                \n                // Mettre √† jour l'√©tat visuel de l'√©toile\n                document.is_favorite = true;\n                \n                // Afficher une notification de succ√®s\n                this.$toast.add({\n                    severity: 'success',\n                    summary: 'Succ√®s',\n                    detail: 'Document ajout√© aux favoris',\n                    life: 3000\n                });\n            })\n            .catch(error => {\n                console.error('Erreur lors de l\\'ajout aux favoris:', error);\n                console.error('D√©tails de l\\'erreur:', error.response ? error.response.data : 'Pas de r√©ponse');\n                console.error('Status code:', error.response ? error.response.status : 'Inconnu');\n                \n                // Message d'erreur plus d√©taill√©\n                const errorMessage = error.response && error.response.data && error.response.data.message\n                    ? error.response.data.message\n                    : 'Impossible d\\'ajouter ce document aux favoris';\n                \n                // Afficher une notification d'erreur\n                this.$toast.add({\n                    severity: 'error',\n                    summary: 'Erreur',\n                    detail: errorMessage,\n                    life: 5000\n                });\n            });\n        }\n    }\n});\n</script>\n","import { render } from \"./RecentDocumentsView.vue?vue&type=template&id=5764fd7c&scoped=true\"\nimport script from \"./RecentDocumentsView.vue?vue&type=script&lang=js\"\nexport * from \"./RecentDocumentsView.vue?vue&type=script&lang=js\"\n\nimport \"./RecentDocumentsView.vue?vue&type=style&index=0&id=5764fd7c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5764fd7c\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=54a7b85c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=54a7b85c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54a7b85c\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"file-icon-container\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"file-extension\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(['file-icon', _ctx.iconClass])\n    }, [\n      (_ctx.fileExtension)\n        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString(_ctx.fileExtension), 1))\n        : _createCommentVNode(\"\", true)\n    ], 2)\n  ]))\n}","<template>\n  <div class=\"file-icon-container\">\n    <div :class=\"['file-icon', iconClass]\">\n      <span v-if=\"fileExtension\" class=\"file-extension\">{{ fileExtension }}</span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'FileIcon',\n  props: {\n    fileName: {\n      type: String,\n      required: true\n    },\n    fileType: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props) {\n    const getFileExtension = (fileName: string) => {\n      const parts = fileName.split('.');\n      if (parts.length > 1) {\n        return parts[parts.length - 1].toLowerCase();\n      }\n      return '';\n    };\n\n    const fileExtension = computed(() => {\n      const type = props.fileType.toLowerCase();\n      \n      // Pour les types sp√©cifiques, on n'affiche pas l'extension\n      if (type.includes('pdf') || type.includes('word') || \n          type.includes('excel') || type.includes('powerpoint') ||\n          type.includes('image')) {\n        return '';\n      }\n      \n      // Pour les autres types, on affiche l'extension\n      const ext = getFileExtension(props.fileName);\n      if (ext && ext.length <= 4) {\n        return ext;\n      }\n      return '';\n    });\n\n    const iconClass = computed(() => {\n      const fileName = props.fileName.toLowerCase();\n      const type = props.fileType.toLowerCase();\n      const ext = getFileExtension(fileName);\n\n      // D√©terminer la classe d'ic√¥ne en fonction du type de fichier\n      if (type.includes('image') || ['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext)) {\n        return 'image-icon';\n      } else if (type.includes('pdf') || ext === 'pdf') {\n        return 'pdf-icon';\n      } else if (type.includes('word') || ['doc', 'docx'].includes(ext)) {\n        return 'word-icon';\n      } else if (type.includes('excel') || ['xls', 'xlsx', 'csv'].includes(ext)) {\n        return 'excel-icon';\n      } else if (type.includes('powerpoint') || ['ppt', 'pptx'].includes(ext)) {\n        return 'powerpoint-icon';\n      } else if (type.includes('zip') || ['zip', 'rar', '7z'].includes(ext)) {\n        return 'zip-icon';\n      } else if (type.includes('folder') || type.includes('directory')) {\n        return 'folder-icon';\n      } else if (type.includes('text') || ['txt', 'md'].includes(ext)) {\n        return 'text-icon';\n      } else {\n        return 'generic-icon';\n      }\n    });\n\n    return {\n      iconClass,\n      fileExtension\n    };\n  }\n});\n</script>\n\n<style scoped>\n.file-icon-container {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 8px;\n}\n\n.file-icon {\n  width: 24px;\n  height: 24px;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 10px;\n  font-weight: bold;\n  color: white;\n}\n\n.file-extension {\n  text-transform: uppercase;\n  font-size: 8px;\n}\n\n/* Styles sp√©cifiques pour chaque type de fichier */\n.image-icon {\n  background-color: #dd4b39;\n  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5-7l-3 3.72L9 13l-3 4h12l-4-5z\"/></svg>');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 16px;\n}\n\n.pdf-icon {\n  background-color: #dd4b39;\n  position: relative;\n}\n\n.pdf-icon::before {\n  content: \"PDF\";\n  color: white;\n  font-size: 8px;\n  font-weight: bold;\n}\n\n.word-icon {\n  background-color: #4285f4;\n  position: relative;\n}\n\n.word-icon::before {\n  content: \"W\";\n  color: white;\n  font-weight: bold;\n}\n\n.excel-icon {\n  background-color: #0f9d58;\n  position: relative;\n}\n\n.excel-icon::before {\n  content: \"X\";\n  color: white;\n  font-weight: bold;\n}\n\n.powerpoint-icon {\n  background-color: #f4b400;\n  position: relative;\n}\n\n.powerpoint-icon::before {\n  content: \"P\";\n  color: white;\n  font-weight: bold;\n}\n\n.folder-icon {\n  background-color: #f1c40f;\n  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"/></svg>');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 16px;\n}\n\n.zip-icon {\n  background-color: #f4b400;\n  position: relative;\n}\n\n.zip-icon::before {\n  content: \"ZIP\";\n  color: white;\n  font-size: 7px;\n  font-weight: bold;\n}\n\n.text-icon {\n  background-color: #607d8b;\n}\n\n.generic-icon {\n  background-color: #9e9e9e;\n  position: relative;\n}\n\n.generic-icon::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/></svg>');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 16px;\n}\n</style>\n","import { render } from \"./FileIcon.vue?vue&type=template&id=febcd1ec&scoped=true&ts=true\"\nimport script from \"./FileIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./FileIcon.vue?vue&type=script&lang=ts\"\n\nimport \"./FileIcon.vue?vue&type=style&index=0&id=febcd1ec&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-febcd1ec\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_RecentDocumentsView","id","onClick","_cache","args","_ctx","refreshData","_hoisted_4","_hoisted_5","type","searchQuery","$event","placeholder","clearSearch","_component_AsdecodeTable","ref","columns","url","computedUrl","apiClient","table","onSetTotalRecords","updateLines","onRowClick","showLine","onSetSelectedRows","getSelection","nom","_withCtx","slotProps","_hoisted_6","_component_FileIcon","fileName","data","_hoisted_7","_toDisplayString","type_lisible","_hoisted_8","getFileType","taille","formatSize","updated_at","_hoisted_9","formatDate","service","_hoisted_10","service_id","_hoisted_11","_hoisted_12","proprietaire","source","user","_hoisted_13","prenom","_hoisted_14","defineComponent","name","components","FileIcon","isLoading","recentDocuments","lines","selection","searchTimeout","filters","key","label","sortable","className","filterable","computed","base","params","URLSearchParams","this","append","person","toString","queryString","watch","clearTimeout","setTimeout","$nextTick","$refs","datatable","fetchData","mounted","window","addEventListener","handleGlobalFiltersChange","savedFilters","localStorage","getItem","JSON","parse","applyFilters","error","console","beforeUnmount","removeEventListener","methods","fetchRecentDocuments","publishedRes","receivedRes","Promise","all","get","publishedDocs","map","doc","receivedDocs","allDocs","sort","a","b","Date","getTime","message","line","extension","split","pop","toLowerCase","isImage","includes","dialogWidth","$dialog","open","ShowDocument","props","header","style","width","modal","maximizable","closeOnEscape","document","nb","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","types","toUpperCase","dateString","date","toLocaleDateString","day","month","year","hour","minute","event","detail","addToFavorites","documentData","document_id","post","then","response","is_favorite","$toast","add","severity","summary","life","catch","status","errorMessage","__exports__","RecentDocumentsView","render","$props","$setup","$data","$options","_openBlock","_normalizeClass","iconClass","fileExtension","_createCommentVNode","String","required","fileType","default","setup","getFileExtension","parts","length","ext"],"sourceRoot":""}