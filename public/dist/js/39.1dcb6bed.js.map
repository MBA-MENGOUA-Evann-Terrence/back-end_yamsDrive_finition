{"version":3,"file":"js/39.1dcb6bed.js","mappings":"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","sources":["webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/components/FileIcon.vue?e138","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/components/FileIcon.vue","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/components/FileIcon.vue?d8de","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/views/dashboard/partage/index.vue","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/views/dashboard/partage/SharedDocumentsView.vue","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/views/dashboard/partage/SharedDocumentsView.vue?18d8","webpack://skeleton-spa-vue3-bootstrap5-primevue-pwa-ts/./src/views/dashboard/partage/index.vue?09f4"],"sourcesContent":["import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"file-icon-container\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"file-extension\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass(['file-icon', _ctx.iconClass])\n    }, [\n      (_ctx.fileExtension)\n        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString(_ctx.fileExtension), 1))\n        : _createCommentVNode(\"\", true)\n    ], 2)\n  ]))\n}","<template>\n  <div class=\"file-icon-container\">\n    <div :class=\"['file-icon', iconClass]\">\n      <span v-if=\"fileExtension\" class=\"file-extension\">{{ fileExtension }}</span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed } from 'vue';\n\nexport default defineComponent({\n  name: 'FileIcon',\n  props: {\n    fileName: {\n      type: String,\n      required: true\n    },\n    fileType: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props) {\n    const getFileExtension = (fileName: string) => {\n      const parts = fileName.split('.');\n      if (parts.length > 1) {\n        return parts[parts.length - 1].toLowerCase();\n      }\n      return '';\n    };\n\n    const fileExtension = computed(() => {\n      const type = props.fileType.toLowerCase();\n      \n      // Pour les types sp√©cifiques, on n'affiche pas l'extension\n      if (type.includes('pdf') || type.includes('word') || \n          type.includes('excel') || type.includes('powerpoint') ||\n          type.includes('image')) {\n        return '';\n      }\n      \n      // Pour les autres types, on affiche l'extension\n      const ext = getFileExtension(props.fileName);\n      if (ext && ext.length <= 4) {\n        return ext;\n      }\n      return '';\n    });\n\n    const iconClass = computed(() => {\n      const fileName = props.fileName.toLowerCase();\n      const type = props.fileType.toLowerCase();\n      const ext = getFileExtension(fileName);\n\n      // D√©terminer la classe d'ic√¥ne en fonction du type de fichier\n      if (type.includes('image') || ['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(ext)) {\n        return 'image-icon';\n      } else if (type.includes('pdf') || ext === 'pdf') {\n        return 'pdf-icon';\n      } else if (type.includes('word') || ['doc', 'docx'].includes(ext)) {\n        return 'word-icon';\n      } else if (type.includes('excel') || ['xls', 'xlsx', 'csv'].includes(ext)) {\n        return 'excel-icon';\n      } else if (type.includes('powerpoint') || ['ppt', 'pptx'].includes(ext)) {\n        return 'powerpoint-icon';\n      } else if (type.includes('zip') || ['zip', 'rar', '7z'].includes(ext)) {\n        return 'zip-icon';\n      } else if (type.includes('folder') || type.includes('directory')) {\n        return 'folder-icon';\n      } else if (type.includes('text') || ['txt', 'md'].includes(ext)) {\n        return 'text-icon';\n      } else {\n        return 'generic-icon';\n      }\n    });\n\n    return {\n      iconClass,\n      fileExtension\n    };\n  }\n});\n</script>\n\n<style scoped>\n.file-icon-container {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 8px;\n}\n\n.file-icon {\n  width: 24px;\n  height: 24px;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  font-size: 10px;\n  font-weight: bold;\n  color: white;\n}\n\n.file-extension {\n  text-transform: uppercase;\n  font-size: 8px;\n}\n\n/* Styles sp√©cifiques pour chaque type de fichier */\n.image-icon {\n  background-color: #dd4b39;\n  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5-7l-3 3.72L9 13l-3 4h12l-4-5z\"/></svg>');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 16px;\n}\n\n.pdf-icon {\n  background-color: #dd4b39;\n  position: relative;\n}\n\n.pdf-icon::before {\n  content: \"PDF\";\n  color: white;\n  font-size: 8px;\n  font-weight: bold;\n}\n\n.word-icon {\n  background-color: #4285f4;\n  position: relative;\n}\n\n.word-icon::before {\n  content: \"W\";\n  color: white;\n  font-weight: bold;\n}\n\n.excel-icon {\n  background-color: #0f9d58;\n  position: relative;\n}\n\n.excel-icon::before {\n  content: \"X\";\n  color: white;\n  font-weight: bold;\n}\n\n.powerpoint-icon {\n  background-color: #f4b400;\n  position: relative;\n}\n\n.powerpoint-icon::before {\n  content: \"P\";\n  color: white;\n  font-weight: bold;\n}\n\n.folder-icon {\n  background-color: #f1c40f;\n  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"/></svg>');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 16px;\n}\n\n.zip-icon {\n  background-color: #f4b400;\n  position: relative;\n}\n\n.zip-icon::before {\n  content: \"ZIP\";\n  color: white;\n  font-size: 7px;\n  font-weight: bold;\n}\n\n.text-icon {\n  background-color: #607d8b;\n}\n\n.generic-icon {\n  background-color: #9e9e9e;\n  position: relative;\n}\n\n.generic-icon::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/></svg>');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 16px;\n}\n</style>\n","import { render } from \"./FileIcon.vue?vue&type=template&id=febcd1ec&scoped=true&ts=true\"\nimport script from \"./FileIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./FileIcon.vue?vue&type=script&lang=ts\"\n\nimport \"./FileIcon.vue?vue&type=style&index=0&id=febcd1ec&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-febcd1ec\"]])\n\nexport default __exports__","<template>\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <SharedDocumentsView />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport SharedDocumentsView from './SharedDocumentsView.vue';\n\nexport default defineComponent({\n  name: 'PartageIndex',\n  components: {\n    SharedDocumentsView\n  }\n});\n</script>\n\n<style scoped>\n.container-fluid {\n  padding: 1rem;\n}\n</style>\n","<template>\n  <div class=\"document-view-container\">\n    <!-- Titre ind√©pendant -->\n    <div class=\"view-header\">\n      <h1 class=\"view-title\">Partag√©s avec moi</h1>\n      <button id=\"refreshshared\" @click=\"refreshData\" class=\"d-none\">Rafra√Æchir</button>\n    </div>\n    \n    <!-- Card contenant uniquement le contenu -->\n    <div class=\"card document-management-card\">\n      <div class=\"card-body\">\n      <div class=\"custom-search-wrapper\">\n        <input \n          type=\"text\" \n          v-model=\"searchQuery\" \n          class=\"form-control form-control-sm\" \n          placeholder=\"Rechercher par nom de fichier ou propri√©taire...\"\n        />\n        <button class=\"btn btn-sm btn-secondary\" @click=\"clearSearch\" v-if=\"searchQuery\">\n          <i class=\"fas fa-times\"></i> Effacer\n        </button>\n      </div>\n      <AsdecodeTable \n        ref=\"datatable\"\n        :columns=\"columns\" \n        :url=\"computedUrl\"\n        :api-client=\"apiClient\"\n        table=\"shared\" \n        @set-total-records=\"updateLines\"\n        @row-click=\"showLine\" \n        @set-selected-rows=\"getSelection\"\n        :show-top-stats=\"false\"\n        :show-bottom-stats=\"false\"\n      >\n        <template #nom=\"slotProps\">\n          <div class=\"file-cell\">\n            <FileIcon :fileName=\"slotProps.data.nom\" />\n            <span class=\"ms-2\">{{ slotProps.data.nom }}</span>\n          </div>\n        </template>\n        <template #type_lisible=\"slotProps\">\n          <span class=\"badge bg-secondary\">{{ getFileType(slotProps.data.nom) }}</span>\n        </template>\n        <template #proprietaire=\"slotProps\">\n          <span v-if=\"slotProps.data.user && slotProps.data.user.prenom && slotProps.data.user.nom\">\n            {{ slotProps.data.user.prenom }} {{ slotProps.data.user.nom }}\n          </span>\n          <span v-else-if=\"slotProps.data.shared_by\">\n            {{ slotProps.data.shared_by.name }}\n          </span>\n          <span v-else>Inconnu</span>\n        </template>\n        <template #taille=\"slotProps\">\n          <span>{{ formatSize(slotProps.data.taille) }}</span>\n        </template>\n        <template #date_partage=\"slotProps\">\n          <span class=\"p-2 rounded badge badge-secondary\">{{ formatDate(slotProps.data.date_partage || slotProps.data.created_at) }}</span>\n        </template>\n        <template #service=\"slotProps\">\n          <span v-if=\"slotProps.data.service\">{{ slotProps.data.service.nom }}</span>\n          <span v-else-if=\"slotProps.data.service_id\" class=\"text-muted\">Service #{{ slotProps.data.service_id }}</span>\n          <span v-else class=\"text-muted\">Aucun service</span>\n        </template>\n      </AsdecodeTable>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport ShowDocument from '../Document/ShowDocument.vue';\nimport FileIcon from '@/components/FileIcon.vue';\nimport apiClient from '@/services/api';\nimport { eventBus, EVENTS } from '@/services/eventBus';\n\nexport default defineComponent({\n    name: 'SharedDocumentsView',\n    components: {\n        FileIcon\n    },\n    data() {\n        return { \n            apiClient: apiClient,\n            lines: 0,\n            selection: [],\n            searchQuery: '',\n            searchTimeout: null,\n            filters: {},\n            columns: [\n                {\n                    key: 'nom',\n                    label: 'Fichier'\n                },\n                {\n                    key: 'type_lisible',\n                    label: 'Type'\n                },\n                {\n                    key: 'taille',\n                    label: 'Taille'\n                },\n                {\n                    key: 'service',\n                    label: 'Service'\n                },\n                {\n                    key: 'proprietaire',\n                    label: 'Propri√©taire'\n                },\n                {\n                    key: 'date_partage',\n                    label: 'Partag√© le'\n                }            ]\n        }\n    },\n    computed: {\n        computedUrl() {\n            const base = '/api/documents/shared-with-me';\n            const params = new URLSearchParams();\n            \n            // Ajouter la recherche\n            if (this.searchQuery) {\n                params.append('q', this.searchQuery);\n            }\n            \n            const queryString = params.toString();\n            return queryString ? `${base}?${queryString}` : base;\n        }\n    },\n    watch: {\n        searchQuery() {\n            // Debounce: attendre 500ms apr√®s la derni√®re frappe avant de rechercher\n            clearTimeout(this.searchTimeout);\n            this.searchTimeout = setTimeout(() => {\n                this.$nextTick(() => {\n                    if (this.$refs.datatable && this.$refs.datatable.fetchData) {\n                        this.$refs.datatable.fetchData();\n                    }\n                });\n            }, 500);\n        }\n    },\n    methods: {\n        async markAllNotificationsAsRead() {\n            try {\n                await apiClient.post('/system/notifications/mark-all-read');\n                console.log('‚úÖ Toutes les notifications ont √©t√© marqu√©es comme lues');\n                // √âmettre un √©v√©nement pour que le layout mette √† jour le compteur\n                window.dispatchEvent(new CustomEvent('notifications-read'));\n            } catch (error) {\n                console.error('Erreur lors du marquage des notifications comme lues:', error);\n            }\n        },\n        \n        clearSearch() {\n            clearTimeout(this.searchTimeout);\n            this.searchQuery = '';\n            // Recharger imm√©diatement quand on efface\n            this.$nextTick(() => {\n                if (this.$refs.datatable && this.$refs.datatable.fetchData) {\n                    this.$refs.datatable.fetchData();\n                }\n            });\n        },\n        refreshData() {\n            if (this.$refs.datatable) {\n                this.$refs.datatable.fetchData();\n            }\n        },\n        showLine(line) {\n            const extension = line.nom.split('.').pop().toLowerCase();\n            const isImage = ['png', 'jpg', 'jpeg', 'gif', 'webp'].includes(extension);\n            const dialogWidth = isImage ? '70vw' : '50vw';\n\n            this.$dialog.open(ShowDocument, {\n                props: {\n                    header: 'D√©tails du document',\n                    style: { width: dialogWidth },\n                    modal: true,\n                    maximizable: true,\n                    closeOnEscape: true\n                },\n                data: {\n                    document: line,\n                    table: 'shared',\n                    source: 'shared', // Indiquer que le document provient de la vue \"Partag√© avec moi\"\n                    showAddButton: false  // Ne pas montrer le bouton d'ajout pour les documents partag√©s\n                }\n            });\n        },\n\n        updateLines(nb) {\n            this.lines = nb;\n        },\n        \n        formatSize(bytes) {\n            if (!bytes) return '0 Bytes';\n            if (bytes === 0) return '0 Bytes';\n            const k = 1024;\n            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n            const i = Math.floor(Math.log(bytes) / Math.log(k));\n            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n        },\n        \n        getFileType(fileName) {\n            if (!fileName) return 'Inconnu';\n            const extension = fileName.split('.').pop().toLowerCase();\n            const types = {\n                'png': 'Image PNG',\n                'jpg': 'Image JPG',\n                'jpeg': 'Image JPEG',\n                'gif': 'Image GIF',\n                'pdf': 'Document PDF',\n                'doc': 'Document Word',\n                'docx': 'Document Word',\n                'xls': 'Fichier Excel',\n                'xlsx': 'Fichier Excel',\n                'ppt': 'Pr√©sentation PowerPoint',\n                'pptx': 'Pr√©sentation PowerPoint',\n                'zip': 'Archive ZIP',\n                'rar': 'Archive RAR',\n                'txt': 'Fichier Texte',\n            };\n            return types[extension] || `Fichier ${extension.toUpperCase()}`;\n        },\n        \n        formatDate(dateString) {\n            if (!dateString) return 'Date inconnue';\n            const date = new Date(dateString);\n            return date.toLocaleDateString('fr-FR', { day: '2-digit', month: 'long', year: 'numeric' });\n        },\n        \n        getSelection(selection) {\n            this.selection = selection;\n        },\n        \n        applyFilters(filters) {\n            console.log('üîç Filtres appliqu√©s dans SharedDocumentsView:', filters);\n            // Les filtres sont automatiquement appliqu√©s via computedUrl\n            // Rafra√Æchir le tableau\n            this.$nextTick(() => {\n                if (this.$refs.datatable && this.$refs.datatable.fetchData) {\n                    this.$refs.datatable.fetchData();\n                }\n            });\n        },\n        \n        handleGlobalFiltersChange(event) {\n            const filters = event.detail;\n            console.log('üåç SharedDocumentsView a re√ßu les filtres globaux:', filters);\n            this.filters = filters;\n            // Note: Le filtrage backend n'est pas encore impl√©ment√© pour cette vue\n            // Les filtres sont sauvegard√©s mais pas appliqu√©s\n        }\n    },\n    mounted() {\n        // Marquer toutes les notifications comme lues quand l'utilisateur visite cette page\n        this.markAllNotificationsAsRead();\n        \n        // √âcouter l'√©v√©nement de suppression de document\n        eventBus.on(EVENTS.DOCUMENT_DELETED, this.refreshData);\n        \n        // √âcouter les changements de filtres globaux\n        window.addEventListener('global-filters-change', this.handleGlobalFiltersChange);\n        \n        // Restaurer les filtres sauvegard√©s (mais ne pas les appliquer)\n        try {\n            const savedFilters = localStorage.getItem('globalFilters');\n            if (savedFilters) {\n                this.filters = JSON.parse(savedFilters);\n            }\n        } catch (error) {\n            console.error('Erreur lors de la restauration des filtres:', error);\n        }\n    },\n    beforeUnmount() {\n        eventBus.off(EVENTS.DOCUMENT_DELETED, this.refreshData);\n        window.removeEventListener('global-filters-change', this.handleGlobalFiltersChange);\n    }\n});\n</script>\n\n<style scoped>\n.document-view-container {\n  padding: 0;\n}\n\n.view-header {\n  margin-bottom: 24px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.view-title {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #202124;\n  margin: 0;\n}\n\n.document-management-card {\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: none;\n}\n\n.custom-search-wrapper {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  margin-bottom: 1rem;\n  justify-content: flex-end;\n}\n\n.custom-search-wrapper input {\n  width: 250px;\n}\n\n.card-body {\n  padding: 1.5rem;\n}\n\n/* Masquer les informations de pagination (haut et bas) */\n:deep(.dataTables_length), \n:deep(.dataTables_info) {\n  display: none !important;\n}\n\n/* Masquer la barre de recherche int√©gr√©e d'AsdecodeTable */\n:deep(.dataTables_filter),\n:deep(.asdecode-search),\n:deep(.search-wrapper),\n:deep([class*=\"search\"]:not(.custom-search-wrapper)) {\n  display: none !important;\n}\n\n/* Forcer le masquage de tous les inputs de recherche sauf le n√¥tre */\n:deep(.card-body input[type=\"search\"]),\n:deep(.card-body input[placeholder*=\"Search\"]),\n:deep(.card-body input[placeholder*=\"Rechercher\"]):not(.custom-search-wrapper input) {\n  display: none !important;\n}\n\n.file-cell {\n  display: flex;\n  align-items: center;\n}\n</style>\n","import { render } from \"./SharedDocumentsView.vue?vue&type=template&id=bd5738ee&scoped=true\"\nimport script from \"./SharedDocumentsView.vue?vue&type=script&lang=js\"\nexport * from \"./SharedDocumentsView.vue?vue&type=script&lang=js\"\n\nimport \"./SharedDocumentsView.vue?vue&type=style&index=0&id=bd5738ee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bd5738ee\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=7c38e458&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7c38e458&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c38e458\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","key","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_createElementVNode","_normalizeClass","iconClass","fileExtension","_toDisplayString","_createCommentVNode","defineComponent","name","props","fileName","type","String","required","fileType","default","setup","getFileExtension","parts","split","length","toLowerCase","computed","includes","ext","__exports__","_hoisted_3","_createVNode","_component_SharedDocumentsView","id","onClick","args","refreshData","_hoisted_4","_hoisted_5","searchQuery","$event","placeholder","clearSearch","_component_AsdecodeTable","ref","columns","url","computedUrl","apiClient","table","onSetTotalRecords","updateLines","onRowClick","showLine","onSetSelectedRows","getSelection","nom","_withCtx","slotProps","_hoisted_6","_component_FileIcon","data","_hoisted_7","type_lisible","_hoisted_8","getFileType","proprietaire","user","prenom","_hoisted_9","shared_by","_hoisted_10","_hoisted_11","taille","formatSize","date_partage","_hoisted_12","formatDate","created_at","service","_hoisted_13","service_id","_hoisted_14","_hoisted_15","components","FileIcon","lines","selection","searchTimeout","filters","label","base","params","URLSearchParams","this","append","queryString","toString","watch","clearTimeout","setTimeout","$nextTick","$refs","datatable","fetchData","methods","markAllNotificationsAsRead","post","console","log","window","dispatchEvent","CustomEvent","error","line","extension","pop","isImage","dialogWidth","$dialog","open","ShowDocument","header","style","width","modal","maximizable","closeOnEscape","document","source","showAddButton","nb","bytes","k","sizes","i","Math","floor","parseFloat","pow","toFixed","types","toUpperCase","dateString","date","Date","toLocaleDateString","day","month","year","applyFilters","handleGlobalFiltersChange","event","detail","mounted","eventBus","on","EVENTS","DOCUMENT_DELETED","addEventListener","savedFilters","localStorage","getItem","JSON","parse","beforeUnmount","off","removeEventListener","SharedDocumentsView"],"sourceRoot":""}